services:
  ingress-rpc:
    build:
      context: .
      dockerfile: crates/ingress-rpc/Dockerfile
    container_name: tips-ingress-rpc
    ports:
      - "8080:8080"
    env_file:
      - .env.docker
    volumes:
      - ./docker/ingress-kafka-properties:/app/docker/ingress-kafka-properties:ro
    restart: unless-stopped

  audit:
    build:
      context: .
      dockerfile: crates/audit/Dockerfile
    container_name: tips-audit
    env_file:
      - .env.docker
    restart: unless-stopped

  maintenance:
    build:
      context: .
      dockerfile: crates/maintenance/Dockerfile
    container_name: tips-maintenance
    env_file:
      - .env.docker
    restart: unless-stopped

  ui:
    build:
      context: .
      dockerfile: ui/Dockerfile
    ports:
      - "3000:3000"
    container_name: tips-ui
    env_file:
      - .env.docker
    restart: unless-stopped

  ingress-writer:
    build:
      context: .
      dockerfile: crates/ingress-writer/Dockerfile
    container_name: tips-ingress-writer
    env_file:
      - .env.docker
    restart: unless-stopped